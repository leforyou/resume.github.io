function sliderMobile(e){function t(){M=setInterval(function(){if(L++,s(2),l(-L*p),u(),L<g.length-1&&m(L-1),L==g.length-1){m(0);var e=setTimeout(function(){L=1,s(0),l(-p),clearTimeout(e)},2*S+1)}},e.time)}function n(){clearInterval(M);var e=event||window.event;Y=e.screenX||e.targetTouches[0].screenX,C=e.screenY||e.targetTouches[0].screenY,F=new Date,B=!0,X=!0,document.addEventListener("touchmove",i,!1),document.addEventListener("mousemove",i,!1),document.ontouchmove=function(){return!1},clearTimeout(P);var t=c();t==p*(g.length-1)&&(m(0),L=1,s(0),l(-p));var n=c();0==n&&(L=g.length-2,u(),m(L-1),s(0),l(-L*p))}function i(e){var t=e||window.event;if(k=t.screenX||t.targetTouches[0].screenX,D=t.screenY||t.targetTouches[0].screenY,W=k-Y,B&&Math.abs(k-Y)-Math.abs(D-C)>0){X=!1,e.stopPropagation(),e.preventDefault();var n=Math.min(L*p-W,p*(g.length-1));s(0),l(-n)}else X&&Math.abs(k-Y)-Math.abs(D-C)<0&&(B=!1,document.ontouchmove=null)}function o(e){clearInterval(M),t(),document.removeEventListener("touchmove",i,!1),document.removeEventListener("mousemove",i,!1),document.ontouchmove=null,H=new Date-F;var e=event||window.event;k=e.screenX||e.changedTouches[0].screenX,D=e.screenY||e.changedTouches[0].screenY,30<H&&H<280&&B?r():H>=280&&a(),Y=0,k=0,C=0,D=0,F=0,H=0,W=0}function r(){W<0&&0!=W?(L++,s(1),l(-L*p),u(),L<g.length-1&&m(L-1),L==g.length-1&&(m(0),L=1,P=setTimeout(function(){s(0),l(-L*p),clearTimeout(P)},S+1))):W>0&&0!=W&&(L--,s(1),l(-L*p),u(),0<L&&L<g.length-1&&m(L-1),L==g.length-1&&m(0),0==L&&(L=g.length-2,u(),m(L-1),P=setTimeout(function(){s(0),l(-L*p),clearTimeout(P)},S+1)))}function a(){s(1);var e=c();if(e-L*p>p/2)L++,l(-L*p),u(),L<g.length-1&&m(L-1),L==g.length-1&&m(0);else if(e-L*p<-p/2){if(L--,l(-L*p),u(),0<L&&L<g.length-1&&m(L-1),L==g.length-1&&m(0),0==L){L=g.length-2,u(),m(L-1);var t=setTimeout(function(){s(0),l(-L*p),clearTimeout(t)},S+1)}}else Math.abs(e-L*p)<p/2&&(s(1),l(-L*p));if(L==g.length-1){m(0);var t=setTimeout(function(){L=1,s(0),l(-p),clearTimeout(t)},S+1)}else if(0==L){m(g.length-2);var t=setTimeout(function(){L=g.length-2,s(0),l(-L*p),clearTimeout(t)},S+1)}}function s(e){d.style.transitionDuration=e*S+"ms",d.style.webkitTransitionDuration=e*S+"ms"}function l(e){var t="translate3d(",n="px, 0px, 0px) translateZ(0px)";d.style.transform=t+e+n,d.style.webkitTransform=t+e+n}function c(){return d.style.transform?parseInt((d.style.transform.match(/\([\S]+,/g)+"").replace(/\-|\(|px|\,/g,"")):parseInt((d.style.webkitTransform.match(/\([\S]+,/g)+"").replace(/\-|\(|px|\,/g,""))}function m(t){e.isNumShow?b.getElementsByTagName("span")[0].innerHTML=t+1+"/"+(g.length-2):E[t].className="active-dots"}function u(){if(!e.isNumShow)for(var t=0;t<E.length;t++)E[t].className=""}e.time=e.time||1500,e.time=Math.max(e.time,1500),e.ratio=e.ratio||"1:0.58",e.ratio=parseFloat(e.ratio.split(":")[0])/parseFloat(e.ratio.split(":")[1]),e.isNumShow=e.isNumShow||!1;var h=document.querySelector(e.id),d=h.getElementsByClassName("slider-group")[0],g=d.getElementsByClassName("slider-item"),f=g[0].cloneNode(!0),v=g[g.length-1].cloneNode(!0);d.appendChild(f),d.insertBefore(v,d.childNodes[0]),h.style.height=T+"px";for(var p=h.offsetWidth,T=p/e.ratio,y=h.getElementsByTagName("a"),w=h.getElementsByTagName("img"),N=0;N<y.length;N++)y[N].style.width=p+"px",y[N].style.height=T+"px",w[N].setAttribute("onload","fitImgSliderMobile(this)"),fitImgSliderMobile(w[N]);var b=document.createElement("div");if(e.isNumShow){b.className="silder-nums";var x="<span>1/"+(g.length-2)+"</span>";b.innerHTML=x,h.appendChild(b)}else{b.className="silder-dots";for(var x="",N=0;N<y.length-2;N++)x+="<i></i>";b.innerHTML=x,h.appendChild(b);var E=b.getElementsByTagName("i")}l(-p),m(0);var M,L=1,S=350,I=setTimeout(function(){var e="transform",t="cubic-bezier(0.165, 0.84, 0.44, 1)";d.style.transitionProperty=e,d.style.transitionTimingFunction=t,d.style.webkitTransitionProperty=e,d.style.webkitTransitionTimingFunction=t,s(2),clearTimeout(I)},1);if(3!=y.length){t();var B,X,Y=0,k=0,C=0,D=0,F=0,H=0,W=0;h.addEventListener("touchstart",n,!1),h.addEventListener("mousedown",n,!1),document.addEventListener("touchend",o,!1),document.addEventListener("mouseup",o,!1);var P;h.ondragstart=function(){return!1},window.addEventListener("resize",function(){if(p!=h.offsetWidth){L=1,p=h.offsetWidth,T=p/e.ratio,h.style.height=T+"px";for(var t=0;t<y.length;t++)y[t].style.width=p+"px",y[t].style.height=T+"px",fitImgSliderMobile(w[t]);u(),m(0),h.style.height=T+"px",l(-p)}},!1)}}function fitImgSliderMobile(e){var t=e.parentNode.offsetWidth,n=e.parentNode.offsetHeight,i=e.width,o=e.height,r="",a=t/n,s=i/o;r=a>=s?t/i:n/o,e.style.width=i*r+"px",e.style.height=o*r+"px",e.style.marginLeft=(t-e.width)/2+"px",e.style.marginTop=(n-e.height)/2+"px"}